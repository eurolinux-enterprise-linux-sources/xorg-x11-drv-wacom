From eeb5d7456248cda28ba62fe2e4978bc25ff6086a Mon Sep 17 00:00:00 2001
From: Aaron Armstrong Skomra <skomra@gmail.com>
Date: Thu, 13 Jul 2017 12:08:03 -0700
Subject: [PATCH 2/4] Support DTH-1152 on older kernels

Signed-off-by: Aaron Armstrong Skomra <aaron.skomra@wacom.com>
Reviewed-by: Peter Hutterer <peter.hutterer@who-t.net>
(cherry picked from commit b0a055425dfb983163b1d3c673a36aebf9536430)
---
 src/wcmUSB.c            | 4 +++-
 src/wcmValidateDevice.c | 2 ++
 2 files changed, 5 insertions(+), 1 deletion(-)

diff --git a/src/wcmUSB.c b/src/wcmUSB.c
index 295286a..0b5ec57 100644
--- a/src/wcmUSB.c
+++ b/src/wcmUSB.c
@@ -91,7 +91,7 @@ DEFINE_MODEL(usbGraphire4,	"USB Graphire4",	4);
 DEFINE_MODEL(usbBamboo,		"USB Bamboo",		4);
 DEFINE_MODEL(usbBamboo1,	"USB Bamboo1",		4);
 DEFINE_MODEL(usbBambooFun,	"USB BambooFun",	4);
-DEFINE_MODEL(usbCintiq,		"USB PL/Cintiq",	4);
+DEFINE_MODEL(usbCintiq,		"USB PL/Cintiq/DTU",	4);
 DEFINE_MODEL(usbCintiqPartner,	"USB CintiqPartner",	4);
 DEFINE_MODEL(usbIntuos,		"USB Intuos1",		5);
 DEFINE_MODEL(usbIntuos2,	"USB Intuos2",		5);
@@ -232,6 +232,8 @@ static struct WacomModelDesc
 	{ WACOM_VENDOR_ID, 0xC7, 100000, 100000, &usbCintiq,     "DTU1931"		},
 	{ WACOM_VENDOR_ID, 0xCE, 100000, 100000, &usbCintiq,     "DTU2231"		},
 	{ WACOM_VENDOR_ID, 0xF0, 100000, 100000, &usbCintiq,     "DTU1631"		},
+	{ WACOM_VENDOR_ID, 0x35a, 100000, 100000, &usbCintiq,    "DTH1152"              },
+	{ WACOM_VENDOR_ID, 0x368, 100000, 100000, &usbCintiq,    "DTH1152"              }, /* Touch */
 
 	{ WACOM_VENDOR_ID, 0x41, 100000, 100000, &usbIntuos2,    "Intuos2 4x5"		},
 	{ WACOM_VENDOR_ID, 0x42, 100000, 100000, &usbIntuos2,    "Intuos2 6x8"		},
diff --git a/src/wcmValidateDevice.c b/src/wcmValidateDevice.c
index 0da5076..bfff8e7 100644
--- a/src/wcmValidateDevice.c
+++ b/src/wcmValidateDevice.c
@@ -317,6 +317,8 @@ int wcmDeviceTypeKeys(InputInfoPtr pInfo)
 		case 0x350:/* Cintiq Pro 16 UHD */
 		case 0x353:/* Cintiq Pro 13 FHD Touch */
 		case 0x354:/* Cintiq Pro 13 UHD Touch */
+		case 0x35A:/* DTH-1152*/
+		case 0x368:/* DTH-1152 Touch */
 			TabletSetFeature(priv->common, WCM_LCD);
 			break;
 	}
-- 
2.13.6

